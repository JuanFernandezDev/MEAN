<div class="w-1/3 mx-auto mt-10">
  <h1 class="text-3xl font-bold mb-6">Mis usuarios</h1>

  <ul class="mb-8">
    <li
      *ngFor="let myUserAux of userService.myUser"
      class="flex flex-col border-b py-4"
    >
      <div
        class="flex items-center justify-between"
        *ngIf="!editar || myUserAux !== selectedUser"
      >
        <div>
          <p class="text-lg font-medium">{{ myUserAux.name }}</p>
          <p class="text-gray-500">{{ myUserAux.description }}</p>
        </div>
        <div>
          <button
            class="btn btn-sm btn-outline-primary"
            type="button"
            class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded mr-2"
            (click)="sacarEditar(myUserAux)"
          >
            Edit
          </button>
          <button
            type="button"
            class="bg-red-500 hover:bg-red-600 text-white font-bold py-2 px-4 rounded"
            (click)="userService.borrarUno(myUserAux._id!)"
          >
            Delete
          </button>
        </div>
      </div>
      <div
        *ngIf="editar && myUserAux === selectedUser"
        class="disabled flex flex-col"
      >
        <div class="flex py-4 justify-around">
          <div class="flex flex-col w-1/4">
            <h1 class="mb-2">Nombre:</h1>
            <input
              class="shadow appearance-none border rounded py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
              placeholder="Nombre"
              [value]="myUserAux.name"
              id="nameNuevo"
              type="text"
              name="nameNuevo"
              #nameNuevo
            />
          </div>

          <div class="flex flex-col ml-4 w-9/12">
            <h1 class="mb-2">Descripción:</h1>
            <input
              class="shadow appearance-none border rounded py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
              placeholder="Descripción"
              [value]="myUserAux.description"
              id="descriptionNuevo"
              type="text"
              name="descriptionNuevo"
              #descriptionNuevo
            />
          </div>
        </div>
        <div class="flex">
          <button
            type="button"
            class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded mr-2 w-9/12"
            (click)="
              modificarUser(myUserAux, nameNuevo.value, descriptionNuevo.value)
            "
          >
            Modificar
          </button>
          <button
            type="button"
            class="bg-red-500 hover:bg-red-600 text-white font-bold py-2 px-4 rounded w-1/4"
            (click)="sacarEditar(myUserAux)"
          >
            Cancelar
          </button>
        </div>
      </div>
    </li>
  </ul>

  <h2 class="text-2xl font-bold mb-4">Crear nuevo usuario</h2>

  <form>
    <div class="mb-4">
      <label class="block text-gray-700 font-bold mb-2" for="name">
        Nombre:
      </label>
      <input
        class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
        id="name"
        type="text"
        name="name"
        [(ngModel)]="newUser.name"
      />
    </div>

    <div class="mb-6">
      <label class="block text-gray-700 font-bold mb-2" for="description">
        Descripción:
      </label>
      <input
        class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
        id="description"
        type="text"
        name="description"
        [(ngModel)]="newUser.description"
      />
    </div>

    <div class="text-right">
      <button
        type="button"
        class="bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded"
        (click)="createMyUser()"
      >
        Crear
      </button>
    </div>
  </form>
</div>
